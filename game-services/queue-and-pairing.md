# Pairing 配對系統

配對系統用來在即時性遊戲中 **配對其他玩家**，通常有兩種形式，一種是讓系統 **自動配對**，另一種是 **邀請制**。自動配對制適用於大部分的遊戲情境，讓系統根據特定條間來自動配對對手。邀請制，則是透過某一玩家主動發起，建立 **遊戲房間** 並把遊戲房間的資訊分享給其他玩家，其他玩家透過這個資訊來加入同一場遊戲

### 目錄

* [常見類型](#type)
* [玩家配對狀態](#status)
* [配對系統情境](#general)
* [主題：設計簡易的 Dispatcherless 自動配對機制 - 透過 Firebase Realtime Database](queue-and-pairing/pairing-realtime-dispatcherless.md)

### 常見類型 {#type}

| 類型 | 說明 |
| --- | --- |
| 自動配對 | 系統根據特定條件、屬性來自動配對對手 |
| 邀請制 | 透過某一玩家主動發起，邀請其他玩家來加入遊戲 |
| 手動制 | 玩家透過遊戲介面，主動地開啟、加入賽局 <br> 部分遊戲設計有密碼功能，將遊戲房間分為公開型與私密型 |

### 玩家配對狀態 {#status}

| 狀態 | 說明 |
| --- | --- |
| 開始進行 | 玩家送出指令，嘗試開始進行 **自動配對**、**創建遊戲房間** 或是 **加入其他遊戲房間** |
| 等待玩家 | 成功的創建或是加入遊戲房間，但人數尚未到達條間正在等待其他玩家加入 |
| 配對成功 | 遊戲配對成功 |
| 配對失敗 | 遊戲配對失敗 |

### 常見的自動配對屬性 {#data}

| 屬性 | 說明 |
| --- | --- |
| 遊戲人數 | **固定人數**：達到固定人數便能（才能）完成配對 <br> **可變人數**：通常設計有**預設人數**、**最高人數**、**最低人數**，伺服器經由配對的法則來提供較好得遊戲體驗 |
| 群組區隔 | 玩家參與全面向的配對，或是加入特定群組中進行配對 |
| 屬性組合 | 玩家透過屬性的設定，來達成互補的配對 <br> 比如：男生、女生 |

### 配對系統情境 {#general}

* 自動配對
    * **遊戲設計者** 預先設立 **配對規則**
    * 玩家選擇 **自動配對**，進入 **開始進行** 狀態
    * 服務端回傳配對結果，可能需 **等待玩家**，或是 **配對成功**
    * 當房間到達預設數量時，房間內的玩家便 **配對成功**
    * 當配對時間超過預設時限，便會 **配對失敗**
    * 與伺服器構通的過程發生錯誤，也會造成 **配對失敗**
    
    
* 邀請制、手動配對
    * **遊戲設計者** 預先設立 **配對規則**
    * 玩家選擇建立遊戲房間，進入 **開始進行** 狀態
    * 服務端回傳建立結果，進入 **等待玩家** 狀態，獲得房間資訊
    * 另一名玩家，透過房間資訊或是公開的介面加入遊戲
    * 當房間到達預設數量時，房間內的玩家便 **配對成功**